<!DOCTYPE html>
<!-- saved from url=(0053)https://github.com/rails-api/active_model_serializers -->
<html data-ember-extension="1"><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# object: http://ogp.me/ns/object# article: http://ogp.me/ns/article# profile: http://ogp.me/ns/profile#"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>rails-api/active_model_serializers</title>
    <link rel="search" type="application/opensearchdescription+xml" href="https://github.com/opensearch.xml" title="GitHub">
    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
    <link rel="apple-touch-icon" sizes="57x57" href="https://github.com/apple-touch-icon-114.png">
    <link rel="apple-touch-icon" sizes="114x114" href="https://github.com/apple-touch-icon-114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="https://github.com/apple-touch-icon-144.png">
    <link rel="apple-touch-icon" sizes="144x144" href="https://github.com/apple-touch-icon-144.png">
    <meta property="fb:app_id" content="1401488693436528">

      <meta content="@github" name="twitter:site"><meta content="summary" name="twitter:card"><meta content="rails-api/active_model_serializers" name="twitter:title"><meta content="active_model_serializers - ActiveModel::Serializer implementation and Rails hooks" name="twitter:description"><meta content="https://identicons.github.com/e5b37c0de002e08371811987c7ca916b.png" name="twitter:image:src">
<meta content="GitHub" property="og:site_name"><meta content="object" property="og:type"><meta content="https://identicons.github.com/e5b37c0de002e08371811987c7ca916b.png" property="og:image"><meta content="rails-api/active_model_serializers" property="og:title"><meta content="https://github.com/rails-api/active_model_serializers" property="og:url"><meta content="active_model_serializers - ActiveModel::Serializer implementation and Rails hooks" property="og:description">

    <meta name="hostname" content="github-fe117-cp1-prd.iad.github.net">
    <meta name="ruby" content="ruby 2.1.0p0-github-tcmalloc (87c9373a41) [x86_64-linux]">
    <link rel="assets" href="https://github.global.ssl.fastly.net/">
    <link rel="conduit-xhr" href="https://ghconduit.com:25035/">
    <link rel="xhr-socket" href="https://github.com/_sockets">


    <meta name="msapplication-TileImage" content="/windows-tile.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="selected-link" value="repo_source" data-pjax-transient="">
    <meta content="collector.githubapp.com" name="octolytics-host"><meta content="collector-cdn.github.com" name="octolytics-script-host"><meta content="github" name="octolytics-app-id"><meta content="62CAFCE8:60AD:257AF9F:530AACA2" name="octolytics-dimension-request_id"><meta content="34642" name="octolytics-actor-id"><meta content="electricgraffitti" name="octolytics-actor-login"><meta content="abc9def8dcfb30a8724d3f6771f6b10813d85c611ffa4e93de8314de19669294" name="octolytics-actor-hash">
    

    
    
    <link rel="icon" type="image/x-icon" href="https://github.com/favicon.ico">

    <meta content="authenticity_token" name="csrf-param">
<meta content="bGETNyhcCUTT1scDLuNl7eOkYVMA7jQ3eItAgoP3mRI=" name="csrf-token">

    <link href="./rails-api active_model_serializers_files/github-22cc6aa8138609ccbf0c65025e153af581662ef6.css" media="all" rel="stylesheet" type="text/css">
    <link href="./rails-api active_model_serializers_files/github2-dd234c178c0a2e0769bab2b5c636ce8f3fc1f02a.css" media="all" rel="stylesheet" type="text/css">
    
    


      <script crossorigin="anonymous" src="./rails-api active_model_serializers_files/frameworks-01ab94ef47d6293597922a1fab60e274e1d8f37e.js" type="text/javascript"></script>
      <script async="async" crossorigin="anonymous" src="./rails-api active_model_serializers_files/github-a8a26802e0e7283b39ee4507af78950399f2a5d1.js" type="text/javascript"></script>
      
      <meta http-equiv="x-pjax-version" content="df411d3c97b15f5ab1e253f83d14f069">

      
  <meta name="description" content="active_model_serializers - ActiveModel::Serializer implementation and Rails hooks">

  <meta content="2820360" name="octolytics-dimension-user_id"><meta content="rails-api" name="octolytics-dimension-user_login"><meta content="2889230" name="octolytics-dimension-repository_id"><meta content="rails-api/active_model_serializers" name="octolytics-dimension-repository_nwo"><meta content="true" name="octolytics-dimension-repository_public"><meta content="false" name="octolytics-dimension-repository_is_fork"><meta content="2889230" name="octolytics-dimension-repository_network_root_id"><meta content="rails-api/active_model_serializers" name="octolytics-dimension-repository_network_root_nwo">
  <link href="https://github.com/rails-api/active_model_serializers/commits/master.atom" rel="alternate" title="Recent Commits to active_model_serializers:master" type="application/atom+xml">

  <script type="text/javascript" async="" src="./rails-api active_model_serializers_files/ga.js"></script><script type="text/javascript" async="" src="./rails-api active_model_serializers_files/api.js"></script></head>


  <body class="logged_in  env-production macintosh vis-public tipsy-tooltips" data-ember-extension="1" style="">
    <div class="wrapper">
      
      
      
      


      <div class="header header-logged-in true">
  <div class="container clearfix">

    <a class="header-logo-invertocat" href="https://github.com/">
  <span class="mega-octicon octicon-mark-github"></span>
</a>

    
    <a href="https://github.com/notifications" aria-label="You have unread notifications" class="notification-indicator tooltipped tooltipped-s" data-gotokey="n" original-title="">
        <span class="mail-status unread"></span>
</a>

      <div class="command-bar js-command-bar  in-repository">
          <form accept-charset="UTF-8" action="https://github.com/search" class="command-bar-form" id="top_search_form" method="get">

<input type="text" data-hotkey="/ s" name="q" id="js-command-bar-field" placeholder="Search or type a command" tabindex="1" autocapitalize="off" data-username="electricgraffitti" data-repo="rails-api/active_model_serializers" data-branch="master" data-sha="952e9dd5ae6273b0c46387bee29bee8f2fe1ba92">

    <input type="hidden" name="nwo" value="rails-api/active_model_serializers">

    <div class="select-menu js-menu-container js-select-menu search-context-select-menu">
      <span class="minibutton select-menu-button js-menu-target" role="button" aria-haspopup="true">
        <span class="js-select-button">This repository</span>
      </span>

      <div class="select-menu-modal-holder js-menu-content js-navigation-container" aria-hidden="true">
        <div class="select-menu-modal">

          <div class="select-menu-item js-navigation-item js-this-repository-navigation-item selected">
            <span class="select-menu-item-icon octicon octicon-check"></span>
            <input type="radio" class="js-search-this-repository" name="search_target" value="repository" checked="checked">
            <div class="select-menu-item-text js-select-button-text">This repository</div>
          </div> <!-- /.select-menu-item -->

          <div class="select-menu-item js-navigation-item js-all-repositories-navigation-item">
            <span class="select-menu-item-icon octicon octicon-check"></span>
            <input type="radio" name="search_target" value="global">
            <div class="select-menu-item-text js-select-button-text">All repositories</div>
          </div> <!-- /.select-menu-item -->

        </div>
      </div>
    </div>

  <span class="help tooltipped tooltipped-s" aria-label="Show command bar help" original-title="">
    <span class="octicon octicon-question"></span>
  </span>


  <input type="hidden" name="ref" value="cmdform">

</form>
        <ul class="top-nav">
          <li class="explore"><a href="https://github.com/explore">Explore</a></li>
            <li><a href="https://gist.github.com/">Gist</a></li>
            <li><a href="https://github.com/blog">Blog</a></li>
          <li><a href="https://help.github.com/">Help</a></li>
        </ul>
      </div>

    


  <ul id="user-links">
    <li>
      <a href="https://github.com/electricgraffitti" class="name">
        <img alt="Bob" class=" js-avatar" data-user="34642" height="20" src="./rails-api active_model_serializers_files/d1fd01b92e61c534b604748c47fc7eae" width="20"> electricgraffitti
      </a>
    </li>

    <li class="new-menu dropdown-toggle js-menu-container">
      <a href="https://github.com/rails-api/active_model_serializers#" class="js-menu-target tooltipped tooltipped-s" aria-label="Create new..." original-title="">
        <span class="octicon octicon-plus"></span>
        <span class="dropdown-arrow"></span>
      </a>

      <div class="new-menu-content js-menu-content">
      </div>
    </li>

    <li>
      <a href="https://github.com/settings/profile" id="account_settings" class="tooltipped tooltipped-s" aria-label="Account settings " original-title="">
        <span class="octicon octicon-tools"></span>
      </a>
    </li>
    <li>
      <a class="tooltipped tooltipped-s" href="https://github.com/logout" data-method="post" id="logout" aria-label="Sign out" original-title="">
        <span class="octicon octicon-log-out"></span>
      </a>
    </li>

  </ul>

<div class="js-new-dropdown-contents hidden">
  

<ul class="dropdown-menu">
  <li>
    <a href="https://github.com/new"><span class="octicon octicon-repo-create"></span> New repository</a>
  </li>
  <li>
    <a href="https://github.com/organizations/new"><span class="octicon octicon-organization"></span> New organization</a>
  </li>


    <li class="section-title">
      <span title="rails-api/active_model_serializers">This repository</span>
    </li>
      <li>
        <a href="https://github.com/rails-api/active_model_serializers/issues/new"><span class="octicon octicon-issue-opened"></span> New issue</a>
      </li>
</ul>

</div>


    
  </div>
</div>

      

        




          <div class="site" itemscope="" itemtype="http://schema.org/WebPage">
    
    <div class="pagehead repohead instapaper_ignore readability-menu">
      <div class="container">
        

<ul class="pagehead-actions">

    <li class="subscription">
      <form accept-charset="UTF-8" action="https://github.com/notifications/subscribe" class="js-social-container" data-autosubmit="true" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="authenticity_token" type="hidden" value="bGETNyhcCUTT1scDLuNl7eOkYVMA7jQ3eItAgoP3mRI="></div>  <input id="repository_id" name="repository_id" type="hidden" value="2889230">

    <div class="select-menu js-menu-container js-select-menu">
      <a class="social-count js-social-count" href="https://github.com/rails-api/active_model_serializers/watchers">
        91
      </a>
      <span class="minibutton select-menu-button with-count js-menu-target" role="button" tabindex="0" aria-haspopup="true">
        <span class="js-select-button">
          <span class="octicon octicon-eye-watch"></span>
          Watch
        </span>
      </span>

      <div class="select-menu-modal-holder">
        <div class="select-menu-modal subscription-menu-modal js-menu-content" aria-hidden="true">
          <div class="select-menu-header">
            <span class="select-menu-title">Notification status</span>
            <span class="octicon octicon-remove-close js-menu-close"></span>
          </div> <!-- /.select-menu-header -->

          <div class="select-menu-list js-navigation-container" role="menu">

            <div class="select-menu-item js-navigation-item selected" role="menuitem" tabindex="0">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <div class="select-menu-item-text">
                <input checked="checked" id="do_included" name="do" type="radio" value="included">
                <h4>Not watching</h4>
                <span class="description">You only receive notifications for conversations in which you participate or are @mentioned.</span>
                <span class="js-select-button-text hidden-select-button-text">
                  <span class="octicon octicon-eye-watch"></span>
                  Watch
                </span>
              </div>
            </div> <!-- /.select-menu-item -->

            <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
              <span class="select-menu-item-icon octicon octicon octicon-check"></span>
              <div class="select-menu-item-text">
                <input id="do_subscribed" name="do" type="radio" value="subscribed">
                <h4>Watching</h4>
                <span class="description">You receive notifications for all conversations in this repository.</span>
                <span class="js-select-button-text hidden-select-button-text">
                  <span class="octicon octicon-eye-unwatch"></span>
                  Unwatch
                </span>
              </div>
            </div> <!-- /.select-menu-item -->

            <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <div class="select-menu-item-text">
                <input id="do_ignore" name="do" type="radio" value="ignore">
                <h4>Ignoring</h4>
                <span class="description">You do not receive any notifications for conversations in this repository.</span>
                <span class="js-select-button-text hidden-select-button-text">
                  <span class="octicon octicon-mute"></span>
                  Stop ignoring
                </span>
              </div>
            </div> <!-- /.select-menu-item -->

          </div> <!-- /.select-menu-list -->

        </div> <!-- /.select-menu-modal -->
      </div> <!-- /.select-menu-modal-holder -->
    </div> <!-- /.select-menu -->

</form>
    </li>

  <li>
  

  <div class="js-toggler-container js-social-container starring-container on">
    <a href="https://github.com/rails-api/active_model_serializers/unstar" class="minibutton with-count js-toggler-target star-button starred" aria-label="Unstar this repository" data-remote="true" data-method="post" rel="nofollow">
      <span class="octicon octicon-star-delete"></span><span class="text">Unstar</span>
    </a>

    <a href="https://github.com/rails-api/active_model_serializers/star" class="minibutton with-count js-toggler-target star-button unstarred" aria-label="Star this repository" data-remote="true" data-method="post" rel="nofollow">
      <span class="octicon octicon-star"></span><span class="text">Star</span>
    </a>

      <a class="social-count js-social-count" href="https://github.com/rails-api/active_model_serializers/stargazers">
        1,774
      </a>
  </div>

  </li>


        <li>
          <a href="https://github.com/rails-api/active_model_serializers/fork" class="minibutton with-count js-toggler-target fork-button lighter tooltipped-n" title="Fork this repo" rel="nofollow" data-method="post">
            <span class="octicon octicon-git-branch-create"></span><span class="text">Fork</span>
          </a>
          <a href="https://github.com/rails-api/active_model_serializers/network" class="social-count">344</a>
        </li>


</ul>

        <h1 itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb" class="entry-title public">
          <span class="repo-label"><span>public</span></span>
          <span class="mega-octicon octicon-repo"></span>
          <span class="author">
            <a href="https://github.com/rails-api" class="url fn" itemprop="url" rel="author"><span itemprop="title">rails-api</span></a>
          </span>
          <span class="repohead-name-divider">/</span>
          <strong><a href="./rails-api active_model_serializers_files/rails-api active_model_serializers.html" class="js-current-repository js-repo-home-link">active_model_serializers</a></strong>

          <span class="page-context-loader">
            <img alt="Octocat-spinner-32" height="16" src="./rails-api active_model_serializers_files/octocat-spinner-32.gif" width="16">
          </span>

        </h1>
      </div><!-- /.container -->
    </div><!-- /.repohead -->

    <div class="container">
      <div class="repository-with-sidebar repo-container new-discussion-timeline js-new-discussion-timeline with-full-navigation">
        <div class="repository-sidebar clearfix">
            

<div class="sunken-menu vertical-right repo-nav js-repo-nav js-repository-container-pjax js-octicon-loaders">
  <div class="sunken-menu-contents">
    <ul class="sunken-menu-group">
      <li class="tooltipped tooltipped-w" aria-label="Code" original-title="">
        <a href="./rails-api active_model_serializers_files/rails-api active_model_serializers.html" aria-label="Code" class="selected js-selected-navigation-item sunken-menu-item" data-gotokey="c" data-pjax="true" data-selected-links="repo_source repo_downloads repo_commits repo_tags repo_branches /rails-api/active_model_serializers">
          <span class="octicon octicon-code"></span> <span class="full-word">Code</span>
          <img alt="Octocat-spinner-32" class="mini-loader" height="16" src="./rails-api active_model_serializers_files/octocat-spinner-32.gif" width="16">
</a>      </li>

        <li class="tooltipped tooltipped-w" aria-label="Issues" original-title="">
          <a href="https://github.com/rails-api/active_model_serializers/issues" aria-label="Issues" class="js-selected-navigation-item sunken-menu-item js-disable-pjax" data-gotokey="i" data-selected-links="repo_issues /rails-api/active_model_serializers/issues">
            <span class="octicon octicon-issue-opened"></span> <span class="full-word">Issues</span>
            <span class="counter">42</span>
            <img alt="Octocat-spinner-32" class="mini-loader" height="16" src="./rails-api active_model_serializers_files/octocat-spinner-32.gif" width="16">
</a>        </li>

      <li class="tooltipped tooltipped-w" aria-label="Pull Requests" original-title="">
        <a href="https://github.com/rails-api/active_model_serializers/pulls" aria-label="Pull Requests" class="js-selected-navigation-item sunken-menu-item js-disable-pjax" data-gotokey="p" data-selected-links="repo_pulls /rails-api/active_model_serializers/pulls">
            <span class="octicon octicon-git-pull-request"></span> <span class="full-word">Pull Requests</span>
            <span class="counter">24</span>
            <img alt="Octocat-spinner-32" class="mini-loader" height="16" src="./rails-api active_model_serializers_files/octocat-spinner-32.gif" width="16">
</a>      </li>


    </ul>
    <div class="sunken-menu-separator"></div>
    <ul class="sunken-menu-group">

      <li class="tooltipped tooltipped-w" aria-label="Pulse" original-title="">
        <a href="https://github.com/rails-api/active_model_serializers/pulse" aria-label="Pulse" class="js-selected-navigation-item sunken-menu-item" data-pjax="true" data-selected-links="pulse /rails-api/active_model_serializers/pulse">
          <span class="octicon octicon-pulse"></span> <span class="full-word">Pulse</span>
          <img alt="Octocat-spinner-32" class="mini-loader" height="16" src="./rails-api active_model_serializers_files/octocat-spinner-32.gif" width="16">
</a>      </li>

      <li class="tooltipped tooltipped-w" aria-label="Graphs" original-title="">
        <a href="https://github.com/rails-api/active_model_serializers/graphs" aria-label="Graphs" class="js-selected-navigation-item sunken-menu-item" data-pjax="true" data-selected-links="repo_graphs repo_contributors /rails-api/active_model_serializers/graphs">
          <span class="octicon octicon-graph"></span> <span class="full-word">Graphs</span>
          <img alt="Octocat-spinner-32" class="mini-loader" height="16" src="./rails-api active_model_serializers_files/octocat-spinner-32.gif" width="16">
</a>      </li>

      <li class="tooltipped tooltipped-w" aria-label="Network" original-title="">
        <a href="https://github.com/rails-api/active_model_serializers/network" aria-label="Network" class="js-selected-navigation-item sunken-menu-item js-disable-pjax" data-selected-links="repo_network /rails-api/active_model_serializers/network">
          <span class="octicon octicon-git-branch"></span> <span class="full-word">Network</span>
          <img alt="Octocat-spinner-32" class="mini-loader" height="16" src="./rails-api active_model_serializers_files/octocat-spinner-32.gif" width="16">
</a>      </li>
    </ul>


  </div>
</div>

              <div class="only-with-full-nav">
                

  

<div class="clone-url open" data-protocol-type="http" data-url="/users/set_protocol?protocol_selector=http&amp;protocol_type=clone">
  <h3><strong>HTTPS</strong> clone URL</h3>
  <div class="clone-url-box">
    <input type="text" class="clone js-url-field" value="https://github.com/rails-api/active_model_serializers.git" readonly="readonly">

    <span aria-label="copy to clipboard" class="js-zeroclipboard url-box-clippy minibutton zeroclipboard-button" data-clipboard-text="https://github.com/rails-api/active_model_serializers.git" data-copied-hint="copied!"><span class="octicon octicon-clippy"></span></span>
  </div>
</div>

  

<div class="clone-url " data-protocol-type="ssh" data-url="/users/set_protocol?protocol_selector=ssh&amp;protocol_type=clone">
  <h3><strong>SSH</strong> clone URL</h3>
  <div class="clone-url-box">
    <input type="text" class="clone js-url-field" value="git@github.com:rails-api/active_model_serializers.git" readonly="readonly">

    <span aria-label="copy to clipboard" class="js-zeroclipboard url-box-clippy minibutton zeroclipboard-button" data-clipboard-text="git@github.com:rails-api/active_model_serializers.git" data-copied-hint="copied!"><span class="octicon octicon-clippy"></span></span>
  </div>
</div>

  

<div class="clone-url " data-protocol-type="subversion" data-url="/users/set_protocol?protocol_selector=subversion&amp;protocol_type=clone">
  <h3><strong>Subversion</strong> checkout URL</h3>
  <div class="clone-url-box">
    <input type="text" class="clone js-url-field" value="https://github.com/rails-api/active_model_serializers" readonly="readonly">

    <span aria-label="copy to clipboard" class="js-zeroclipboard url-box-clippy minibutton zeroclipboard-button" data-clipboard-text="https://github.com/rails-api/active_model_serializers" data-copied-hint="copied!"><span class="octicon octicon-clippy"></span></span>
  </div>
</div>


<p class="clone-options">You can clone with
      <a href="https://github.com/rails-api/active_model_serializers#" class="js-clone-selector" data-protocol="http">HTTPS</a>,
      <a href="https://github.com/rails-api/active_model_serializers#" class="js-clone-selector" data-protocol="ssh">SSH</a>,
      or <a href="https://github.com/rails-api/active_model_serializers#" class="js-clone-selector" data-protocol="subversion">Subversion</a>.
  <span class="help tooltipped tooltipped-n" aria-label="Get help on which URL is right for you." original-title="">
    <a href="https://help.github.com/articles/which-remote-url-should-i-use">
    <span class="octicon octicon-question"></span>
    </a>
  </span>
</p>

  <a href="http://mac.github.com/" data-url="github-mac://openRepo/https://github.com/rails-api/active_model_serializers" class="minibutton sidebar-button js-conduit-rewrite-url">
    <span class="octicon octicon-device-desktop"></span>
    Clone in Desktop
  </a>


                <a href="https://github.com/rails-api/active_model_serializers/archive/master.zip" class="minibutton sidebar-button" title="Download this repository as a zip file" rel="nofollow">
                  <span class="octicon octicon-cloud-download"></span>
                  Download ZIP
                </a>
              </div>
        </div><!-- /.repository-sidebar -->

        <div id="js-repo-pjax-container" class="repository-content context-loader-container" data-pjax-container="">
          

<span id="js-show-full-navigation"></span>

<div class="repository-meta js-details-container ">
    <div class="repository-description js-details-show">
      <p>ActiveModel::Serializer implementation and Rails hooks</p>
    </div>



</div>

<div class="capped-box overall-summary ">

  <div class="stats-switcher-viewport js-stats-switcher-viewport">

    <ul class="numbers-summary">
      <li class="commits">
        <a data-pjax="" href="https://github.com/rails-api/active_model_serializers/commits/master">
            <span class="num">
              <span class="octicon octicon-history"></span>
              742
            </span>
            commits
        </a>
      </li>
      <li>
        <a data-pjax="" href="https://github.com/rails-api/active_model_serializers/branches">
          <span class="num">
            <span class="octicon octicon-git-branch"></span>
            3
          </span>
          branches
        </a>
      </li>

      <li>
        <a data-pjax="" href="https://github.com/rails-api/active_model_serializers/releases">
          <span class="num">
            <span class="octicon octicon-tag"></span>
            8
          </span>
          releases
        </a>
      </li>

      <li>
        
  <a href="https://github.com/rails-api/active_model_serializers/graphs/contributors">
    <span class="num">
      <span class="octicon octicon-organization"></span>
      105
    </span>
    contributors
  </a>
      </li>
    </ul>

      <div class="repository-lang-stats">
        <ol class="repository-lang-stats-numbers">
          <li>
              <a href="https://github.com/rails-api/active_model_serializers/search?l=ruby">
                <span class="color-block language-color" style="background-color:#701516;"></span>
                <span class="lang">Ruby</span>
                <span class="percent">100%</span>
              </a>
          </li>
        </ol>
      </div>
  </div>

</div>

  <div class="tooltipped tooltipped-s" aria-label="Show language statistics" original-title="">
    <a href="https://github.com/rails-api/active_model_serializers#" class="repository-lang-stats-graph js-toggle-lang-stats" style="background-color:#701516">
  <span class="language-color" style="width:100%; background-color:#701516;" itemprop="keywords">Ruby</span>
    </a>
  </div>




<div class="file-navigation in-mid-page">
    <a href="https://github.com/rails-api/active_model_serializers/compare" aria-label="Compare, review, create a pull request" class="minibutton compact primary tooltipped tooltipped-s" data-pjax="" original-title="">
      <span class="octicon octicon-git-compare"></span>
    </a>

  

<div class="select-menu js-menu-container js-select-menu">
  <span class="minibutton select-menu-button js-menu-target" data-hotkey="w" data-master-branch="master" data-ref="master" role="button" aria-label="Switch branches or tags" tabindex="0" aria-haspopup="true">
    <span class="octicon octicon-git-branch"></span>
    <i>branch:</i>
    <span class="js-select-button">master</span>
  </span>

  <div class="select-menu-modal-holder js-menu-content js-navigation-container" data-pjax="" aria-hidden="true">

    <div class="select-menu-modal">
      <div class="select-menu-header">
        <span class="select-menu-title">Switch branches/tags</span>
        <span class="octicon octicon-remove-close js-menu-close"></span>
      </div> <!-- /.select-menu-header -->

      <div class="select-menu-filters">
        <div class="select-menu-text-filter">
          <input type="text" aria-label="Filter branches/tags" id="context-commitish-filter-field" class="js-filterable-field js-navigation-enable" placeholder="Filter branches/tags">
        </div>
        <div class="select-menu-tabs">
          <ul>
            <li class="select-menu-tab">
              <a href="https://github.com/rails-api/active_model_serializers#" data-tab-filter="branches" class="js-select-menu-tab">Branches</a>
            </li>
            <li class="select-menu-tab">
              <a href="https://github.com/rails-api/active_model_serializers#" data-tab-filter="tags" class="js-select-menu-tab">Tags</a>
            </li>
          </ul>
        </div><!-- /.select-menu-tabs -->
      </div><!-- /.select-menu-filters -->

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="branches">

        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/rails-api/active_model_serializers/tree/0-8-stable" data-name="0-8-stable" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" title="0-8-stable">0-8-stable</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item selected">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/rails-api/active_model_serializers/tree/master" data-name="master" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" title="master">master</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/rails-api/active_model_serializers/tree/refactor" data-name="refactor" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" title="refactor">refactor</a>
            </div> <!-- /.select-menu-item -->
        </div>

          <div class="select-menu-no-results">Nothing to show</div>
      </div> <!-- /.select-menu-list -->

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="tags">
        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/rails-api/active_model_serializers/tree/v0.9.0.alpha1" data-name="v0.9.0.alpha1" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" title="v0.9.0.alpha1">v0.9.0.alpha1</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/rails-api/active_model_serializers/tree/v0.8.1" data-name="v0.8.1" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" title="v0.8.1">v0.8.1</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/rails-api/active_model_serializers/tree/v0.8.0" data-name="v0.8.0" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" title="v0.8.0">v0.8.0</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/rails-api/active_model_serializers/tree/v0.7.0" data-name="v0.7.0" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" title="v0.7.0">v0.7.0</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/rails-api/active_model_serializers/tree/v0.6.0" data-name="v0.6.0" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" title="v0.6.0">v0.6.0</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/rails-api/active_model_serializers/tree/v0.5.2" data-name="v0.5.2" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" title="v0.5.2">v0.5.2</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/rails-api/active_model_serializers/tree/v0.5.1" data-name="v0.5.1" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" title="v0.5.1">v0.5.1</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/rails-api/active_model_serializers/tree/v0.5.0" data-name="v0.5.0" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" title="v0.5.0">v0.5.0</a>
            </div> <!-- /.select-menu-item -->
        </div>

        <div class="select-menu-no-results">Nothing to show</div>
      </div> <!-- /.select-menu-list -->

    </div> <!-- /.select-menu-modal -->
  </div> <!-- /.select-menu-modal-holder -->
</div> <!-- /.select-menu -->


  <div class="breadcrumb"><span class="repo-root js-repo-root"><span itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a href="./rails-api active_model_serializers_files/rails-api active_model_serializers.html" data-branch="master" data-direction="back" data-pjax="true" itemscope="url"><span itemprop="title">active_model_serializers</span></a></span></span><span class="separator"> / </span><form action="https://github.com/rails-api/active_model_serializers/new/master" aria-label="Fork this project and create a new file" class="js-new-blob-form tooltipped tooltipped-e new-file-link" method="post" original-title=""><span aria-label="Fork this project and create a new file" class="js-new-blob-submit octicon octicon-file-add" data-test-id="create-new-git-file" role="button"></span></form></div>
</div>



<a href="https://github.com/rails-api/active_model_serializers/find/master" data-hotkey="t" class="js-show-file-finder" style="display:none" data-pjax="">Show File Finder</a>
<div class="bubble files-bubble">

  
  <div class="commit commit-tease js-details-container">
    <p class="commit-title ">
        <a href="https://github.com/rails-api/active_model_serializers/commit/61882e1e4127facfe92e49057aec71edbe981829" class="message" data-pjax="true" title="Allow to fail on ruby-head">Allow to fail on ruby-head</a>
        
    </p>
    <div class="commit-meta">
      <span class="js-zeroclipboard zeroclipboard-link" data-clipboard-text="61882e1e4127facfe92e49057aec71edbe981829" data-copied-hint="copied!" title="Copy SHA"><span class="octicon octicon-clippy"></span></span>
      <a href="https://github.com/rails-api/active_model_serializers/commit/61882e1e4127facfe92e49057aec71edbe981829" class="sha-block" data-pjax="">latest commit <span class="sha">61882e1e41</span></a>

      <div class="authorship">
        <img alt="Arthur Nogueira Neves" class="gravatar js-avatar" data-user="833383" height="20" src="./rails-api active_model_serializers_files/bd33b5aaf0eb48d67a8145732d8f61a9" width="20">
        <span class="author-name"><a href="https://github.com/arthurnn" data-skip-pjax="true" rel="contributor">arthurnn</a></span>
        authored <time class="js-relative-date updated" data-title-format="YYYY-MM-DD HH:mm:ss" datetime="2014-02-20T13:25:01-08:00" title="2014-02-20 14:25:01">3 days ago</time>

      </div>
    </div>
  </div>

  <table class="files" data-pjax="">

    
<tbody class="" data-url="/rails-api/active_model_serializers/file-list/master">
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-directory"></span>
        <img alt="Octocat-spinner-32" class="spinner" height="16" src="./rails-api active_model_serializers_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/rails-api/active_model_serializers/tree/master/lib" class="js-directory-link" id="e8acc63b1e238f3255c900eed37254b8-886928821e5fa5e6cd0c6caf37410fcaf2b8c9fa" title="lib">lib</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/rails-api/active_model_serializers/commit/d985e6424c6defe0bcd3a9a681ad0bbf920e5d1d" class="message" data-pjax="true" title="Merge pull request #462 from fab/master

Generator now properly detects ApplicationSerializer">Merge pull request</a> <a href="https://github.com/rails-api/active_model_serializers/pull/462" class="issue-link" title="Generator now properly detects ApplicationSerializer">#462</a> <a href="https://github.com/rails-api/active_model_serializers/commit/d985e6424c6defe0bcd3a9a681ad0bbf920e5d1d" class="message" data-pjax="true" title="Merge pull request #462 from fab/master

Generator now properly detects ApplicationSerializer">from fab/master</a></span>
      </td>
      <td class="age"><span class="css-truncate css-truncate-target"><time class="js-relative-date" data-title-format="YYYY-MM-DD HH:mm:ss" datetime="2014-02-04T10:05:03-08:00" title="2014-02-04 11:05:03">20 days ago</time></span></td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-directory"></span>
        <img alt="Octocat-spinner-32" class="spinner" height="16" src="./rails-api active_model_serializers_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/rails-api/active_model_serializers/tree/master/test" class="js-directory-link" id="098f6bcd4621d373cade4e832627b4f6-b8f0d3d83ec5af7d8637ddde8b113a999b9767f3" title="test">test</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/rails-api/active_model_serializers/commit/1ec499bd645448565cfa834b9f0fcbbfa6306ea5" class="message" data-pjax="true" title="Use Minitest::Test instead of ActiveModel::TestCase">Use Minitest::Test instead of ActiveModel::TestCase</a></span>
      </td>
      <td class="age"><span class="css-truncate css-truncate-target"><time class="js-relative-date" data-title-format="YYYY-MM-DD HH:mm:ss" datetime="2014-01-09T15:52:10-08:00" title="2014-01-09 16:52:10">a month ago</time></span></td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="Octocat-spinner-32" class="spinner" height="16" src="./rails-api active_model_serializers_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/rails-api/active_model_serializers/blob/master/.gitignore" class="js-directory-link" id="a084b794bc0759e7a6b77810e01874f2-0649969e5ee0ac603ab59a06910972eea60fbb39" title=".gitignore">.gitignore</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/rails-api/active_model_serializers/commit/f10f72c763fc8f1efe0ac327900986b62d404f4d" class="message" data-pjax="true" title="Fixed Rails 4 Controller Scaffold Generator.">Fixed Rails 4 Controller Scaffold Generator.</a></span>
      </td>
      <td class="age"><span class="css-truncate css-truncate-target"><time class="js-relative-date" data-title-format="YYYY-MM-DD HH:mm:ss" datetime="2013-11-04T17:31:19-08:00" title="2013-11-04 18:31:19">4 months ago</time></span></td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="Octocat-spinner-32" class="spinner" height="16" src="./rails-api active_model_serializers_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/rails-api/active_model_serializers/blob/master/.travis.yml" class="js-directory-link" id="354f30a63fb0907d4ad57269548329e3-f0df8ef365fd01dc324ebd3deddbefbc5c8bf087" title=".travis.yml">.travis.yml</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/rails-api/active_model_serializers/commit/61882e1e4127facfe92e49057aec71edbe981829" class="message" data-pjax="true" title="Allow to fail on ruby-head">Allow to fail on ruby-head</a></span>
      </td>
      <td class="age"><span class="css-truncate css-truncate-target"><time class="js-relative-date" data-title-format="YYYY-MM-DD HH:mm:ss" datetime="2014-02-20T13:25:01-08:00" title="2014-02-20 14:25:01">3 days ago</time></span></td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="Octocat-spinner-32" class="spinner" height="16" src="./rails-api active_model_serializers_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/rails-api/active_model_serializers/blob/master/CHANGELOG.md" class="js-directory-link" id="4ac32a78649ca5bdd8e0ba38b7006a1e-f870df9677995e20bf23d652bbeb34427705f451" title="CHANGELOG.md">CHANGELOG.md</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/rails-api/active_model_serializers/commit/a2d5ca42debb533bb11d0d5fa58f64dfc1630f3a" class="message" data-pjax="true" title="Update CHANGELOG.md

Fix typo">Update CHANGELOG.md</a></span>
      </td>
      <td class="age"><span class="css-truncate css-truncate-target"><time class="js-relative-date" data-title-format="YYYY-MM-DD HH:mm:ss" datetime="2013-10-23T02:43:45-07:00" title="2013-10-23 03:43:45">4 months ago</time></span></td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="Octocat-spinner-32" class="spinner" height="16" src="./rails-api active_model_serializers_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/rails-api/active_model_serializers/blob/master/CONTRIBUTING.md" class="js-directory-link" id="6a3371457528722a734f3c51d9238c13-9811ef28f3ea61db5a8be99c0b07a17a1cc9cf2a" title="CONTRIBUTING.md">CONTRIBUTING.md</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/rails-api/active_model_serializers/commit/c941952eb2a411886ce7086d130561aade96a944" class="message" data-pjax="true" title="Add back CONTRIBUTING.md file">Add back CONTRIBUTING.md file</a></span>
      </td>
      <td class="age"><span class="css-truncate css-truncate-target"><time class="js-relative-date" data-title-format="YYYY-MM-DD HH:mm:ss" datetime="2013-10-18T12:49:21-07:00" title="2013-10-18 13:49:21">4 months ago</time></span></td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="Octocat-spinner-32" class="spinner" height="16" src="./rails-api active_model_serializers_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/rails-api/active_model_serializers/blob/master/DESIGN.textile" class="js-directory-link" id="ebf5696e87d621441a407078ee230832-559982e4efa37016c422616715e03dde336790dd" title="DESIGN.textile">DESIGN.textile</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/rails-api/active_model_serializers/commit/1817398b579d9ec608b45cd7dd24c7a6271a4806" class="message" data-pjax="true" title="Add back DESIGN.textile file">Add back DESIGN.textile file</a></span>
      </td>
      <td class="age"><span class="css-truncate css-truncate-target"><time class="js-relative-date" data-title-format="YYYY-MM-DD HH:mm:ss" datetime="2013-10-18T12:49:21-07:00" title="2013-10-18 13:49:21">4 months ago</time></span></td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="Octocat-spinner-32" class="spinner" height="16" src="./rails-api active_model_serializers_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/rails-api/active_model_serializers/blob/master/Gemfile" class="js-directory-link" id="8b7db4d5cc4b8f6dc8feb7030baa2478-bc6d7817720da9658aaa217c5c0e213baebe157a" title="Gemfile">Gemfile</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/rails-api/active_model_serializers/commit/1c440b513f26ed3e6785eacf6a14bb8dd485570c" class="message" data-pjax="true" title="Depend on the released activerecord-jdbcsqlite3-adapter

create_table_definition changed from 3 to 4 parameters was fixed and
was included in 1.3.5">Depend on the released activerecord-jdbcsqlite3-adapter</a></span>
      </td>
      <td class="age"><span class="css-truncate css-truncate-target"><time class="js-relative-date" data-title-format="YYYY-MM-DD HH:mm:ss" datetime="2014-01-10T06:57:21-08:00" title="2014-01-10 07:57:21">a month ago</time></span></td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="Octocat-spinner-32" class="spinner" height="16" src="./rails-api active_model_serializers_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/rails-api/active_model_serializers/blob/master/Gemfile.edge" class="js-directory-link" id="9e00ece11f7a02b0c8216ec24e3045d0-1e06dc486b946f650440104b4c14f8f47f7ad088" title="Gemfile.edge">Gemfile.edge</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/rails-api/active_model_serializers/commit/1c440b513f26ed3e6785eacf6a14bb8dd485570c" class="message" data-pjax="true" title="Depend on the released activerecord-jdbcsqlite3-adapter

create_table_definition changed from 3 to 4 parameters was fixed and
was included in 1.3.5">Depend on the released activerecord-jdbcsqlite3-adapter</a></span>
      </td>
      <td class="age"><span class="css-truncate css-truncate-target"><time class="js-relative-date" data-title-format="YYYY-MM-DD HH:mm:ss" datetime="2014-01-10T06:57:21-08:00" title="2014-01-10 07:57:21">a month ago</time></span></td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="Octocat-spinner-32" class="spinner" height="16" src="./rails-api active_model_serializers_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/rails-api/active_model_serializers/blob/master/Gemfile.rails3" class="js-directory-link" id="74b42d8fc06cb6c99b8bf4d3362f3cdd-d90af5775065c56c2b293bd02c259c4fc50e1501" title="Gemfile.rails3">Gemfile.rails3</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/rails-api/active_model_serializers/commit/1c440b513f26ed3e6785eacf6a14bb8dd485570c" class="message" data-pjax="true" title="Depend on the released activerecord-jdbcsqlite3-adapter

create_table_definition changed from 3 to 4 parameters was fixed and
was included in 1.3.5">Depend on the released activerecord-jdbcsqlite3-adapter</a></span>
      </td>
      <td class="age"><span class="css-truncate css-truncate-target"><time class="js-relative-date" data-title-format="YYYY-MM-DD HH:mm:ss" datetime="2014-01-10T06:57:21-08:00" title="2014-01-10 07:57:21">a month ago</time></span></td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="Octocat-spinner-32" class="spinner" height="16" src="./rails-api active_model_serializers_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/rails-api/active_model_serializers/blob/master/MIT-LICENSE" class="js-directory-link" id="6d6f69ab160d70085563c5d6eb87b978-75e6db1a22c07878838185c55843e4b4b2739771" title="MIT-LICENSE">MIT-LICENSE</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/rails-api/active_model_serializers/commit/23e6ed32be751f95629203acf4a9283259411698" class="message" data-pjax="true" title="Add default_serializer_options test">Add default_serializer_options test</a></span>
      </td>
      <td class="age"><span class="css-truncate css-truncate-target"><time class="js-relative-date" data-title-format="YYYY-MM-DD HH:mm:ss" datetime="2013-10-18T12:49:20-07:00" title="2013-10-18 13:49:20">4 months ago</time></span></td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="Octocat-spinner-32" class="spinner" height="16" src="./rails-api active_model_serializers_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/rails-api/active_model_serializers/blob/master/README.md" class="js-directory-link" id="04c6e90faac2675aa89e2176d2eec7d8-6263d879653e61226a6385978eae6032501adf06" title="README.md">README.md</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/rails-api/active_model_serializers/commit/2792210a88e26c15816dc2a9577c7417667af152" class="message" data-pjax="true" title="Merge pull request #494 from billychan/add-doc-independent-usage

add doc for use serailizer independently">Merge pull request</a> <a href="https://github.com/rails-api/active_model_serializers/pull/494" class="issue-link" title="add doc for use serailizer independently">#494</a> <a href="https://github.com/rails-api/active_model_serializers/commit/2792210a88e26c15816dc2a9577c7417667af152" class="message" data-pjax="true" title="Merge pull request #494 from billychan/add-doc-independent-usage

add doc for use serailizer independently">from billychan/add-doc-independent-usage</a></span>
      </td>
      <td class="age"><span class="css-truncate css-truncate-target"><time class="js-relative-date" data-title-format="YYYY-MM-DD HH:mm:ss" datetime="2014-02-04T12:37:03-08:00" title="2014-02-04 13:37:03">19 days ago</time></span></td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="Octocat-spinner-32" class="spinner" height="16" src="./rails-api active_model_serializers_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/rails-api/active_model_serializers/blob/master/Rakefile" class="js-directory-link" id="52c976fc38ed2b4e3b1192f8a8e24cff-8b2dcdee9e4c4b3d96fc0de9b90a8bd45c65925a" title="Rakefile">Rakefile</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/rails-api/active_model_serializers/commit/5e77e7fcd0369b46dff6b09243c54362370d0648" class="message" data-pjax="true" title="Add test:isolated task">Add test:isolated task</a></span>
      </td>
      <td class="age"><span class="css-truncate css-truncate-target"><time class="js-relative-date" data-title-format="YYYY-MM-DD HH:mm:ss" datetime="2013-12-30T05:09:30-08:00" title="2013-12-30 06:09:30">2 months ago</time></span></td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="Octocat-spinner-32" class="spinner" height="16" src="./rails-api active_model_serializers_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/rails-api/active_model_serializers/blob/master/active_model_serializers.gemspec" class="js-directory-link" id="fe7aa2941c19a41ccea6e52940d84016-2ad4ee542b09392c31f06c457b9924e01a8b9bbd" title="active_model_serializers.gemspec">active_model_serializers.gemspec</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/rails-api/active_model_serializers/commit/36b917ef233b065d0d2581c1788d6823dfe1fbef" class="message" data-pjax="true" title="Add license to gemspec">Add license to gemspec</a></span>
      </td>
      <td class="age"><span class="css-truncate css-truncate-target"><time class="js-relative-date" data-title-format="YYYY-MM-DD HH:mm:ss" datetime="2014-01-07T09:31:52-08:00" title="2014-01-07 10:31:52">2 months ago</time></span></td>
    </tr>
</tbody>

  </table>
</div>

  <div id="readme" class="clearfix announce instapaper_body md">
    <span class="name">
      <span class="octicon octicon-book"></span>
      README.md
    </span>

    <article class="markdown-body entry-content" itemprop="mainContentOfPage"><p><a href="https://travis-ci.org/rails-api/active_model_serializers"><img src="./rails-api active_model_serializers_files/68747470733a2f2f6170692e7472617669732d63692e6f72672f7261696c732d6170692f6163746976655f6d6f64656c5f73657269616c697a6572732e706e67" alt="Build Status" data-canonical-src="https://api.travis-ci.org/rails-api/active_model_serializers.png" style="max-width:100%;"></a> 
<a href="https://codeclimate.com/github/rails-api/active_model_serializers"><img src="./rails-api active_model_serializers_files/68747470733a2f2f636f6465636c696d6174652e636f6d2f6769746875622f7261696c732d6170692f6163746976655f6d6f64656c5f73657269616c697a6572732e706e67" alt="Code Climate" data-canonical-src="https://codeclimate.com/github/rails-api/active_model_serializers.png" style="max-width:100%;"></a> 
<a href="https://coveralls.io/r/rails-api/active_model_serializers"><img src="./rails-api active_model_serializers_files/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f7261696c732d6170692f6163746976655f6d6f64656c5f73657269616c697a6572732f62616467652e706e673f6272616e63683d6d6173746572" alt="Coverage Status" data-canonical-src="https://coveralls.io/repos/rails-api/active_model_serializers/badge.png?branch=master" style="max-width:100%;"></a></p>

<h1>
<a name="activemodelserializers" class="anchor" href="https://github.com/rails-api/active_model_serializers#activemodelserializers"><span class="octicon octicon-link"></span></a>ActiveModel::Serializers</h1>

<h2>
<a name="master---090" class="anchor" href="https://github.com/rails-api/active_model_serializers#master---090"><span class="octicon octicon-link"></span></a>Master - 0.9.0</h2>

<p><strong>master is under development, there are some incompatible changes with the current stable release.</strong></p>

<p>Since <code>0.8</code> there is no <code>options</code> accessor in the serializers. Some issues and pull-requests are attemps to bring back the ability to use Rails url helpers in the serializers, but nothing is really settled yet.</p>

<p>If you want to read the stable documentation visit <a href="https://github.com/rails-api/active_model_serializers/blob/0-8-stable/README.md">0.8 README</a></p>

<h2>
<a name="purpose" class="anchor" href="https://github.com/rails-api/active_model_serializers#purpose"><span class="octicon octicon-link"></span></a>Purpose</h2>

<p><code>ActiveModel::Serializers</code> encapsulates the JSON serialization of objects. 
Objects that respond to read_attribute_for_serialization 
(including <code>ActiveModel</code> and <code>ActiveRecord</code> objects) are supported.</p>

<p>Serializers know about both a model and the <code>current_user</code>, so you can
customize serialization based upon whether a user is authorized to see the
content.</p>

<p>In short, <strong>serializers replace hash-driven development with object-oriented
development.</strong></p>

<h1>
<a name="installing" class="anchor" href="https://github.com/rails-api/active_model_serializers#installing"><span class="octicon octicon-link"></span></a>Installing</h1>

<p>The easiest way to install <code>ActiveModel::Serializers</code> is to add it to your
<code>Gemfile</code>:</p>

<div class="highlight highlight-ruby"><pre><span class="n">gem</span> <span class="s2">"active_model_serializers"</span>
</pre></div>

<p>Then, install it on the command line:</p>

<pre><code>$ bundle install
</code></pre>

<h4>
<a name="ruby-18-is-no-longer-supported" class="anchor" href="https://github.com/rails-api/active_model_serializers#ruby-18-is-no-longer-supported"><span class="octicon octicon-link"></span></a>Ruby 1.8 is no longer supported!</h4>

<p>If you must use a ruby 1.8 version (MRI 1.8.7, REE, Rubinius 1.8, or JRuby 1.8), you need to use version 0.8.x.
Versions after 0.9.0 do not support ruby 1.8. To specify version 0.8, include this in your Gemfile:</p>

<div class="highlight highlight-ruby"><pre><span class="n">gem</span> <span class="s2">"active_model_serializers"</span><span class="p">,</span> <span class="s2">"~&gt; 0.8.0"</span>
</pre></div>

<h1>
<a name="creating-a-serializer" class="anchor" href="https://github.com/rails-api/active_model_serializers#creating-a-serializer"><span class="octicon octicon-link"></span></a>Creating a Serializer</h1>

<p>The easiest way to create a new serializer is to generate a new resource, which
will generate a serializer at the same time:</p>

<pre><code>$ rails g resource post title:string body:string
</code></pre>

<p>This will generate a serializer in <code>app/serializers/post_serializer.rb</code> for
your new model. You can also generate a serializer for an existing model with
the serializer generator:</p>

<pre><code>$ rails g serializer post
</code></pre>

<h3>
<a name="support-for-poros" class="anchor" href="https://github.com/rails-api/active_model_serializers#support-for-poros"><span class="octicon octicon-link"></span></a>Support for POROs</h3>

<p>Currently <code>ActiveModel::Serializers</code> expects objects to implement
read_attribute_for_serialization. That's all you need to do to have
your POROs supported. </p>

<h1>
<a name="render-json" class="anchor" href="https://github.com/rails-api/active_model_serializers#render-json"><span class="octicon octicon-link"></span></a>render :json</h1>

<p>In your controllers, when you use <code>render :json</code>, Rails will now first search
for a serializer for the object and use it if available.</p>

<div class="highlight highlight-ruby"><pre><span class="k">class</span> <span class="nc">PostsController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="k">def</span> <span class="nf">show</span>
    <span class="vi">@post</span> <span class="o">=</span> <span class="no">Post</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>
    <span class="n">render</span> <span class="ss">json</span><span class="p">:</span> <span class="vi">@post</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>

<p>In this case, Rails will look for a serializer named <code>PostSerializer</code>, and if
it exists, use it to serialize the <code>Post</code>.</p>

<p>This also works with <code>respond_with</code>, which uses <code>to_json</code> under the hood. Also
note that any options passed to <code>render :json</code> will be passed to your
serializer and available as <code>@options</code> inside.</p>

<p>To specify a custom serializer for an object, you can specify the
serializer when you render the object:</p>

<div class="highlight highlight-ruby"><pre><span class="n">render</span> <span class="ss">json</span><span class="p">:</span> <span class="vi">@post</span><span class="p">,</span> <span class="ss">serializer</span><span class="p">:</span> <span class="no">FancyPostSerializer</span>
</pre></div>

<h2>
<a name="arrays" class="anchor" href="https://github.com/rails-api/active_model_serializers#arrays"><span class="octicon octicon-link"></span></a>Arrays</h2>

<p>In your controllers, when you use <code>render :json</code> for an array of objects, AMS will
use <code>ActiveModel::ArraySerializer</code> (included in this project) as the base serializer,
and the individual <code>Serializer</code> for the objects contained in that array.</p>

<div class="highlight highlight-ruby"><pre><span class="k">class</span> <span class="nc">PostSerializer</span> <span class="o">&lt;</span> <span class="no">ActiveModel</span><span class="o">::</span><span class="no">Serializer</span>
  <span class="n">attributes</span> <span class="ss">:title</span><span class="p">,</span> <span class="ss">:body</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">PostsController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="k">def</span> <span class="nf">index</span>
    <span class="vi">@posts</span> <span class="o">=</span> <span class="no">Post</span><span class="o">.</span><span class="n">all</span>
    <span class="n">render</span> <span class="ss">json</span><span class="p">:</span> <span class="vi">@posts</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>

<p>Given the example above, the index action will return</p>

<div class="highlight highlight-json"><pre><span class="p">{</span>
  <span class="nt">"posts"</span><span class="p">:</span>
    <span class="p">[</span>
      <span class="p">{</span> <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"Post 1"</span><span class="p">,</span> <span class="nt">"body"</span><span class="p">:</span> <span class="s2">"Hello!"</span> <span class="p">},</span>
      <span class="p">{</span> <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"Post 2"</span><span class="p">,</span> <span class="nt">"body"</span><span class="p">:</span> <span class="s2">"Goodbye!"</span> <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>

<p>By default, the root element is the name of the controller. For example, <code>PostsController</code>
generates a root element "posts". To change it:</p>

<div class="highlight highlight-ruby"><pre><span class="n">render</span> <span class="ss">json</span><span class="p">:</span> <span class="vi">@posts</span><span class="p">,</span> <span class="ss">root</span><span class="p">:</span> <span class="s2">"some_posts"</span>
</pre></div>

<p>You may disable the root element for arrays at the top level, which will result in
more concise json. See the next section for ways on how to do this. Disabling the
root element of the array with any of those methods will produce</p>

<div class="highlight highlight-json"><pre><span class="p">[</span>
  <span class="p">{</span> <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"Post 1"</span><span class="p">,</span> <span class="nt">"body"</span><span class="p">:</span> <span class="s2">"Hello!"</span> <span class="p">},</span>
  <span class="p">{</span> <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"Post 2"</span><span class="p">,</span> <span class="nt">"body"</span><span class="p">:</span> <span class="s2">"Goodbye!"</span> <span class="p">}</span>
<span class="p">]</span>
</pre></div>

<p>To specify a custom serializer for the items within an array:</p>

<div class="highlight highlight-ruby"><pre><span class="n">render</span> <span class="ss">json</span><span class="p">:</span> <span class="vi">@posts</span><span class="p">,</span> <span class="n">each_serializer</span><span class="p">:</span> <span class="no">FancyPostSerializer</span>
</pre></div>

<h2>
<a name="render-independently" class="anchor" href="https://github.com/rails-api/active_model_serializers#render-independently"><span class="octicon octicon-link"></span></a>Render independently</h2>

<p>By default the setting of serializer is in controller as described above which is the
recommeneded way. However, there may be cases you need to render the json object elsewhere
say in a helper or a view when controller is only for main object.</p>

<p>Then you can render the serialized JSON independently.</p>

<div class="highlight highlight-ruby"><pre><span class="k">def</span> <span class="nf">current_user_as_json_helper</span>
  <span class="no">CurrentUserSerializer</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">current_user</span><span class="p">)</span><span class="o">.</span><span class="n">to_json</span>
<span class="k">end</span>
</pre></div>

<h2>
<a name="disabling-the-root-element" class="anchor" href="https://github.com/rails-api/active_model_serializers#disabling-the-root-element"><span class="octicon octicon-link"></span></a>Disabling the root element</h2>

<p>You have 4 options to disable the root element, each with a slightly different scope:</p>

<h4>
<a name="1-disable-root-globally-for-all-or-per-class" class="anchor" href="https://github.com/rails-api/active_model_serializers#1-disable-root-globally-for-all-or-per-class"><span class="octicon octicon-link"></span></a>1. Disable root globally for all, or per class</h4>

<p>In an initializer:</p>

<div class="highlight highlight-ruby"><pre><span class="c1"># Disable for all serializers (except ArraySerializer)</span>
<span class="no">ActiveModel</span><span class="o">::</span><span class="no">Serializer</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="kp">false</span>

<span class="c1"># Disable for ArraySerializer</span>
<span class="no">ActiveModel</span><span class="o">::</span><span class="no">ArraySerializer</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="kp">false</span>
</pre></div>

<h4>
<a name="2-disable-root-per-render-call-in-your-controller" class="anchor" href="https://github.com/rails-api/active_model_serializers#2-disable-root-per-render-call-in-your-controller"><span class="octicon octicon-link"></span></a>2. Disable root per render call in your controller</h4>

<div class="highlight highlight-ruby"><pre><span class="n">render</span> <span class="ss">json</span><span class="p">:</span> <span class="vi">@posts</span><span class="p">,</span> <span class="ss">root</span><span class="p">:</span> <span class="kp">false</span>
</pre></div>

<h4>
<a name="3-subclass-the-serializer-and-specify-using-it" class="anchor" href="https://github.com/rails-api/active_model_serializers#3-subclass-the-serializer-and-specify-using-it"><span class="octicon octicon-link"></span></a>3. Subclass the serializer, and specify using it</h4>

<div class="highlight highlight-ruby"><pre><span class="k">class</span> <span class="nc">CustomArraySerializer</span> <span class="o">&lt;</span> <span class="no">ActiveModel</span><span class="o">::</span><span class="no">ArraySerializer</span>
  <span class="nb">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="kp">false</span>
<span class="k">end</span>

<span class="c1"># controller:</span>
<span class="n">render</span> <span class="ss">json</span><span class="p">:</span> <span class="vi">@posts</span><span class="p">,</span> <span class="ss">serializer</span><span class="p">:</span> <span class="no">CustomArraySerializer</span>
</pre></div>

<h4>
<a name="4-define-default_serializer_options-in-your-controller" class="anchor" href="https://github.com/rails-api/active_model_serializers#4-define-default_serializer_options-in-your-controller"><span class="octicon octicon-link"></span></a>4. Define default_serializer_options in your controller</h4>

<p>If you define <code>default_serializer_options</code> method in your controller,
all serializers in actions of this controller and it's children will use them.
One of the options may be <code>root: false</code></p>

<div class="highlight highlight-ruby"><pre><span class="k">def</span> <span class="nf">default_serializer_options</span>
  <span class="p">{</span>
    <span class="ss">root</span><span class="p">:</span> <span class="kp">false</span>
  <span class="p">}</span>
<span class="k">end</span>
</pre></div>

<h2>
<a name="getting-the-old-version" class="anchor" href="https://github.com/rails-api/active_model_serializers#getting-the-old-version"><span class="octicon octicon-link"></span></a>Getting the old version</h2>

<p>If you find that your project is already relying on the old rails to_json
change <code>render :json</code> to <code>render json: @your_object.to_json</code>.</p>

<h1>
<a name="attributes-and-associations" class="anchor" href="https://github.com/rails-api/active_model_serializers#attributes-and-associations"><span class="octicon octicon-link"></span></a>Attributes and Associations</h1>

<p>Once you have a serializer, you can specify which attributes and associations
you would like to include in the serialized form.</p>

<div class="highlight highlight-ruby"><pre><span class="k">class</span> <span class="nc">PostSerializer</span> <span class="o">&lt;</span> <span class="no">ActiveModel</span><span class="o">::</span><span class="no">Serializer</span>
  <span class="n">attributes</span> <span class="ss">:id</span><span class="p">,</span> <span class="ss">:title</span><span class="p">,</span> <span class="ss">:body</span>
  <span class="n">has_many</span> <span class="ss">:comments</span>
<span class="k">end</span>
</pre></div>

<h2>
<a name="attributes" class="anchor" href="https://github.com/rails-api/active_model_serializers#attributes"><span class="octicon octicon-link"></span></a>Attributes</h2>

<p>For specified attributes, a serializer will look up the attribute on the
object you passed to <code>render :json</code>. It uses
<code>read_attribute_for_serialization</code>, which <code>ActiveRecord</code> objects implement as a
regular attribute lookup.</p>

<p>Before looking up the attribute on the object, a serializer will check for the
presence of a method with the name of the attribute. This allows serializers to
include properties beyond the simple attributes of the model. For example:</p>

<div class="highlight highlight-ruby"><pre><span class="k">class</span> <span class="nc">PersonSerializer</span> <span class="o">&lt;</span> <span class="no">ActiveModel</span><span class="o">::</span><span class="no">Serializer</span>
  <span class="n">attributes</span> <span class="ss">:first_name</span><span class="p">,</span> <span class="ss">:last_name</span><span class="p">,</span> <span class="ss">:full_name</span>

  <span class="k">def</span> <span class="nf">full_name</span>
    <span class="s2">"</span><span class="si">#{</span><span class="n">object</span><span class="o">.</span><span class="n">first_name</span><span class="si">}</span><span class="s2"> </span><span class="si">#{</span><span class="n">object</span><span class="o">.</span><span class="n">last_name</span><span class="si">}</span><span class="s2">"</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>

<p>Within a serializer's methods, you can access the object being
serialized as <code>object</code>.</p>

<p>Since this shadows any attribute named <code>object</code>, you can include them through <code>object.object</code>. For example:</p>

<div class="highlight highlight-ruby"><pre><span class="k">class</span> <span class="nc">VersionSerializer</span> <span class="o">&lt;</span> <span class="no">ActiveModel</span><span class="o">::</span><span class="no">Serializer</span>
  <span class="n">attribute</span> <span class="ss">:version_object</span><span class="p">,</span> <span class="ss">key</span><span class="p">:</span> <span class="ss">:object</span>

  <span class="k">def</span> <span class="nf">version_object</span>
    <span class="n">object</span><span class="o">.</span><span class="n">object</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>

<p>You can also access the <code>scope</code> method, which provides an
authorization context to your serializer. By default, the context
is the current user of your application, but this
<a href="https://github.com/rails-api/active_model_serializers#customizing-scope">can be customized</a>.</p>

<p>Serializers provides a method named <code>filter</code>, which should return an array
used to determine what attributes and associations should be included in the output.
This is typically used to customize output based on <code>current_user</code>. For example:</p>

<div class="highlight highlight-ruby"><pre><span class="k">class</span> <span class="nc">PostSerializer</span> <span class="o">&lt;</span> <span class="no">ActiveModel</span><span class="o">::</span><span class="no">Serializer</span>
  <span class="n">attributes</span> <span class="ss">:id</span><span class="p">,</span> <span class="ss">:title</span><span class="p">,</span> <span class="ss">:body</span><span class="p">,</span> <span class="ss">:author</span>

  <span class="k">def</span> <span class="nf">filter</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">scope</span><span class="o">.</span><span class="n">admin?</span>
      <span class="n">keys</span>
    <span class="k">else</span>
      <span class="n">keys</span> <span class="o">-</span> <span class="o">[</span><span class="ss">:author</span><span class="o">]</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>

<p>And it's also safe to mutate keys argument by doing keys.delete(:author)
in case you want to avoid creating two extra arrays. Note that if you do an
in-place modification, you still need to return the modified array.</p>

<p>If you would like the key in the outputted JSON to be different from its name
in ActiveRecord, you can declare the attribute with the different name
and redefine that method:</p>

<div class="highlight highlight-ruby"><pre><span class="k">class</span> <span class="nc">PostSerializer</span> <span class="o">&lt;</span> <span class="no">ActiveModel</span><span class="o">::</span><span class="no">Serializer</span>
  <span class="c1"># look up subject on the model, but use title in the JSON</span>
  <span class="k">def</span> <span class="nf">title</span>
    <span class="n">object</span><span class="o">.</span><span class="n">subject</span>
  <span class="k">end</span>

  <span class="n">attributes</span> <span class="ss">:id</span><span class="p">,</span> <span class="ss">:body</span><span class="p">,</span> <span class="ss">:title</span>
  <span class="n">has_many</span> <span class="ss">:comments</span>
<span class="k">end</span>
</pre></div>

<p>If you would like to add meta information to the outputted JSON, use the <code>:meta</code>
option:</p>

<div class="highlight highlight-ruby"><pre><span class="n">render</span> <span class="ss">json</span><span class="p">:</span> <span class="vi">@posts</span><span class="p">,</span> <span class="ss">serializer</span><span class="p">:</span> <span class="no">CustomArraySerializer</span><span class="p">,</span> <span class="ss">meta</span><span class="p">:</span> <span class="p">{</span><span class="ss">total</span><span class="p">:</span> <span class="mi">10</span><span class="p">}</span>
</pre></div>

<p>The above usage of <code>:meta</code> will produce the following:</p>

<div class="highlight highlight-json"><pre><span class="p">{</span>
  <span class="nt">"meta"</span><span class="p">:</span> <span class="p">{</span> <span class="nt">"total"</span><span class="p">:</span> <span class="mi">10</span> <span class="p">},</span>
  <span class="nt">"posts"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"Post 1"</span><span class="p">,</span> <span class="nt">"body"</span><span class="p">:</span> <span class="s2">"Hello!"</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"Post 2"</span><span class="p">,</span> <span class="nt">"body"</span><span class="p">:</span> <span class="s2">"Goodbye!"</span> <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>

<p>If you would like to change the meta key name you can use the <code>:meta_key</code> option:</p>

<div class="highlight highlight-ruby"><pre><span class="n">render</span> <span class="ss">json</span><span class="p">:</span> <span class="vi">@posts</span><span class="p">,</span> <span class="ss">serializer</span><span class="p">:</span> <span class="no">CustomArraySerializer</span><span class="p">,</span> <span class="ss">meta</span><span class="p">:</span> <span class="p">{</span><span class="ss">total</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span> <span class="n">meta_key</span><span class="p">:</span> <span class="s1">'meta_object'</span>
</pre></div>

<p>The above usage of <code>:meta_key</code> will produce the following:</p>

<div class="highlight highlight-json"><pre><span class="p">{</span>
  <span class="nt">"meta_object"</span><span class="p">:</span> <span class="p">{</span> <span class="nt">"total"</span><span class="p">:</span> <span class="mi">10</span> <span class="p">},</span>
  <span class="nt">"posts"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"Post 1"</span><span class="p">,</span> <span class="nt">"body"</span><span class="p">:</span> <span class="s2">"Hello!"</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"Post 2"</span><span class="p">,</span> <span class="nt">"body"</span><span class="p">:</span> <span class="s2">"Goodbye!"</span> <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>

<p>When using meta information, your serializer cannot have the <code>{ root: false }</code> option, as this would lead to
invalid JSON. If you do not have a root key, the meta information will be ignored.</p>

<p>If you would like direct, low-level control of attribute serialization, you can
completely override the <code>attributes</code> method to return the hash you need:</p>

<div class="highlight highlight-ruby"><pre><span class="k">class</span> <span class="nc">PersonSerializer</span> <span class="o">&lt;</span> <span class="no">ActiveModel</span><span class="o">::</span><span class="no">Serializer</span>
  <span class="n">attributes</span> <span class="ss">:first_name</span><span class="p">,</span> <span class="ss">:last_name</span>

  <span class="k">def</span> <span class="nf">attributes</span>
    <span class="nb">hash</span> <span class="o">=</span> <span class="k">super</span>
    <span class="k">if</span> <span class="n">scope</span><span class="o">.</span><span class="n">admin?</span>
      <span class="nb">hash</span><span class="o">[</span><span class="s2">"ssn"</span><span class="o">]</span> <span class="o">=</span> <span class="n">object</span><span class="o">.</span><span class="n">ssn</span>
      <span class="nb">hash</span><span class="o">[</span><span class="s2">"secret"</span><span class="o">]</span> <span class="o">=</span> <span class="n">object</span><span class="o">.</span><span class="n">mothers_maiden_name</span>
    <span class="k">end</span>
    <span class="nb">hash</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>

<h2>
<a name="associations" class="anchor" href="https://github.com/rails-api/active_model_serializers#associations"><span class="octicon octicon-link"></span></a>Associations</h2>

<p>For specified associations, the serializer will look up the association and
then serialize each element of the association. For instance, a <code>has_many
:comments</code> association will create a new <code>CommentSerializer</code> for each comment
and use it to serialize the comment.</p>

<p>By default, serializers simply look up the association on the original object.
You can customize this behavior by implementing a method with the name of the
association and returning a different Array. Often, you will do this to
customize the objects returned based on the current user (scope).</p>

<div class="highlight highlight-ruby"><pre><span class="k">class</span> <span class="nc">PostSerializer</span> <span class="o">&lt;</span> <span class="no">ActiveModel</span><span class="o">::</span><span class="no">Serializer</span>
  <span class="n">attributes</span> <span class="ss">:id</span><span class="p">,</span> <span class="ss">:title</span><span class="p">,</span> <span class="ss">:body</span>
  <span class="n">has_many</span> <span class="ss">:comments</span>

  <span class="c1"># only let the user see comments he created.</span>
  <span class="k">def</span> <span class="nf">comments</span>
    <span class="n">object</span><span class="o">.</span><span class="n">comments</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">created_by</span><span class="p">:</span> <span class="n">scope</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>

<p>As with attributes, you can change the JSON key that the serializer should
use for a particular association.</p>

<div class="highlight highlight-ruby"><pre><span class="k">class</span> <span class="nc">PostSerializer</span> <span class="o">&lt;</span> <span class="no">ActiveModel</span><span class="o">::</span><span class="no">Serializer</span>
  <span class="n">attributes</span> <span class="ss">:id</span><span class="p">,</span> <span class="ss">:title</span><span class="p">,</span> <span class="ss">:body</span>

  <span class="c1"># look up comments, but use +my_comments+ as the key in JSON</span>
  <span class="n">has_many</span> <span class="ss">:comments</span><span class="p">,</span> <span class="ss">root</span><span class="p">:</span> <span class="ss">:my_comments</span>
<span class="k">end</span>
</pre></div>

<p>Also, as with attributes, serializers will execute a filter method to
determine which associations should be included in the output. For
example:</p>

<div class="highlight highlight-ruby"><pre><span class="k">class</span> <span class="nc">PostSerializer</span> <span class="o">&lt;</span> <span class="no">ActiveModel</span><span class="o">::</span><span class="no">Serializer</span>
  <span class="n">attributes</span> <span class="ss">:id</span><span class="p">,</span> <span class="ss">:title</span><span class="p">,</span> <span class="ss">:body</span>
  <span class="n">has_many</span> <span class="ss">:comments</span>

  <span class="k">def</span> <span class="nf">filter</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span>
    <span class="n">keys</span><span class="o">.</span><span class="n">delete</span> <span class="ss">:comments</span> <span class="k">if</span> <span class="n">object</span><span class="o">.</span><span class="n">comments_disabled?</span>
    <span class="n">keys</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>

<p>Or ...</p>

<div class="highlight highlight-ruby"><pre><span class="k">class</span> <span class="nc">PostSerializer</span> <span class="o">&lt;</span> <span class="no">ActiveModel</span><span class="o">::</span><span class="no">Serializer</span>
  <span class="n">attributes</span> <span class="ss">:id</span><span class="p">,</span> <span class="ss">:title</span><span class="p">,</span> <span class="ss">:body</span>
  <span class="n">has_one</span> <span class="ss">:author</span>
  <span class="n">has_many</span> <span class="ss">:comments</span>

  <span class="k">def</span> <span class="nf">filter</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span>
    <span class="n">keys</span><span class="o">.</span><span class="n">delete</span> <span class="ss">:author</span> <span class="k">unless</span> <span class="n">scope</span><span class="o">.</span><span class="n">admin?</span>
    <span class="n">keys</span><span class="o">.</span><span class="n">delete</span> <span class="ss">:comments</span> <span class="k">if</span> <span class="n">object</span><span class="o">.</span><span class="n">comments_disabled?</span>
    <span class="n">keys</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>

<p>You may also use the <code>:serializer</code> option to specify a custom serializer class and the <code>:polymorphic</code> option to specify an association that is polymorphic (STI), e.g.:</p>

<div class="highlight highlight-ruby"><pre>  <span class="n">has_many</span> <span class="ss">:comments</span><span class="p">,</span> <span class="ss">serializer</span><span class="p">:</span> <span class="no">CommentShortSerializer</span>
  <span class="n">has_one</span> <span class="ss">:reviewer</span><span class="p">,</span> <span class="ss">polymorphic</span><span class="p">:</span> <span class="kp">true</span>
</pre></div>

<p>Serializers are only concerned with multiplicity, and not ownership. <code>belongs_to</code> ActiveRecord associations can be included using <code>has_one</code> in your serializer.</p>

<p>NOTE: polymorphic was removed because was only supported for has_one
associations and is in the TODO list of the project.</p>

<h2>
<a name="embedding-associations" class="anchor" href="https://github.com/rails-api/active_model_serializers#embedding-associations"><span class="octicon octicon-link"></span></a>Embedding Associations</h2>

<p>By default, associations will be embedded inside the serialized object. So if
you have a post, the outputted JSON will look like:</p>

<div class="highlight highlight-json"><pre><span class="p">{</span>
  <span class="nt">"post"</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">"id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"New post"</span><span class="p">,</span>
    <span class="nt">"body"</span><span class="p">:</span> <span class="s2">"A body!"</span><span class="p">,</span>
    <span class="nt">"comments"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span> <span class="nt">"id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nt">"body"</span><span class="p">:</span> <span class="s2">"what a dumb post"</span> <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>This is convenient for simple use-cases, but for more complex clients, it is
better to supply an Array of IDs for the association. This makes your API more
flexible from a performance standpoint and avoids wasteful duplication.</p>

<p>To embed IDs instead of associations, simply use the <code>embed</code> class method:</p>

<div class="highlight highlight-ruby"><pre><span class="k">class</span> <span class="nc">PostSerializer</span> <span class="o">&lt;</span> <span class="no">ActiveModel</span><span class="o">::</span><span class="no">Serializer</span>
  <span class="n">embed</span> <span class="ss">:ids</span>

  <span class="n">attributes</span> <span class="ss">:id</span><span class="p">,</span> <span class="ss">:title</span><span class="p">,</span> <span class="ss">:body</span>
  <span class="n">has_many</span> <span class="ss">:comments</span>
<span class="k">end</span>
</pre></div>

<p>Now, any associations will be supplied as an Array of IDs:</p>

<div class="highlight highlight-json"><pre><span class="p">{</span>
  <span class="nt">"post"</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">"id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"New post"</span><span class="p">,</span>
    <span class="nt">"body"</span><span class="p">:</span> <span class="s2">"A body!"</span><span class="p">,</span>
    <span class="nt">"comment_ids"</span><span class="p">:</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>Alternatively, you can choose to embed only the ids or the associated objects per association:</p>

<div class="highlight highlight-ruby"><pre><span class="k">class</span> <span class="nc">PostSerializer</span> <span class="o">&lt;</span> <span class="no">ActiveModel</span><span class="o">::</span><span class="no">Serializer</span>
  <span class="n">attributes</span> <span class="ss">:id</span><span class="p">,</span> <span class="ss">:title</span><span class="p">,</span> <span class="ss">:body</span>

  <span class="n">has_many</span> <span class="ss">:comments</span><span class="p">,</span> <span class="ss">embed</span><span class="p">:</span> <span class="ss">:objects</span>
  <span class="n">has_many</span> <span class="ss">:tags</span><span class="p">,</span> <span class="ss">embed</span><span class="p">:</span> <span class="ss">:ids</span>
<span class="k">end</span>
</pre></div>

<p>The JSON will look like this:</p>

<div class="highlight highlight-json"><pre><span class="p">{</span>
  <span class="nt">"post"</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">"id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"New post"</span><span class="p">,</span>
    <span class="nt">"body"</span><span class="p">:</span> <span class="s2">"A body!"</span><span class="p">,</span>
    <span class="nt">"comments"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span> <span class="nt">"id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nt">"body"</span><span class="p">:</span> <span class="s2">"what a dumb post"</span> <span class="p">}</span>
    <span class="p">],</span>
    <span class="nt">"tag_ids"</span><span class="p">:</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>In addition to supplying an Array of IDs, you may want to side-load the data
alongside the main object. This makes it easier to process the entire package
of data without having to recursively scan the tree looking for embedded
information. It also ensures that associations that are shared between several
objects (like tags), are only delivered once for the entire payload.</p>

<p>You can specify that the data be included like this:</p>

<div class="highlight highlight-ruby"><pre><span class="k">class</span> <span class="nc">PostSerializer</span> <span class="o">&lt;</span> <span class="no">ActiveModel</span><span class="o">::</span><span class="no">Serializer</span>
  <span class="n">embed</span> <span class="ss">:ids</span><span class="p">,</span> <span class="kp">include</span><span class="p">:</span> <span class="kp">true</span>

  <span class="n">attributes</span> <span class="ss">:id</span><span class="p">,</span> <span class="ss">:title</span><span class="p">,</span> <span class="ss">:body</span>
  <span class="n">has_many</span> <span class="ss">:comments</span>
<span class="k">end</span>
</pre></div>

<p>Assuming that the comments also <code>has_many :tags</code>, you will get a JSON like
this:</p>

<div class="highlight highlight-json"><pre><span class="p">{</span>
  <span class="nt">"post"</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">"id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"New post"</span><span class="p">,</span>
    <span class="nt">"body"</span><span class="p">:</span> <span class="s2">"A body!"</span><span class="p">,</span>
    <span class="nt">"comment_ids"</span><span class="p">:</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">]</span>
  <span class="p">},</span>
  <span class="nt">"comments"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="nt">"id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nt">"body"</span><span class="p">:</span> <span class="s2">"what a dumb post"</span><span class="p">,</span> <span class="nt">"tag_ids"</span><span class="p">:</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nt">"id"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nt">"body"</span><span class="p">:</span> <span class="s2">"i liked it"</span><span class="p">,</span> <span class="nt">"tag_ids"</span><span class="p">:</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span> <span class="p">]</span> <span class="p">},</span>
  <span class="p">],</span>
  <span class="nt">"tags"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="nt">"id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"short"</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nt">"id"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"whiny"</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nt">"id"</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"happy"</span> <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>

<p>When side-loading data, your serializer cannot have the <code>{ root: false }</code> option, 
as this would lead to invalid JSON. If you do not have a root key, the <code>include</code> 
instruction will be ignored</p>

<p>You can also specify a different root for the embedded objects than the key
used to reference them:</p>

<div class="highlight highlight-ruby"><pre><span class="k">class</span> <span class="nc">PostSerializer</span> <span class="o">&lt;</span> <span class="no">ActiveModel</span><span class="o">::</span><span class="no">Serializer</span>
  <span class="n">embed</span> <span class="ss">:ids</span><span class="p">,</span> <span class="kp">include</span><span class="p">:</span> <span class="kp">true</span>

  <span class="n">attributes</span> <span class="ss">:id</span><span class="p">,</span> <span class="ss">:title</span><span class="p">,</span> <span class="ss">:body</span>
  <span class="n">has_many</span> <span class="ss">:comments</span><span class="p">,</span> <span class="ss">key</span><span class="p">:</span> <span class="ss">:comment_ids</span><span class="p">,</span> <span class="ss">root</span><span class="p">:</span> <span class="ss">:comment_objects</span>
<span class="k">end</span>
</pre></div>

<p>This would generate JSON that would look like this:</p>

<div class="highlight highlight-json"><pre><span class="p">{</span>
  <span class="nt">"post"</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">"id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"New post"</span><span class="p">,</span>
    <span class="nt">"body"</span><span class="p">:</span> <span class="s2">"A body!"</span><span class="p">,</span>
    <span class="nt">"comment_ids"</span><span class="p">:</span> <span class="p">[</span> <span class="mi">1</span> <span class="p">]</span>
  <span class="p">},</span>
  <span class="nt">"comment_objects"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="nt">"id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nt">"body"</span><span class="p">:</span> <span class="s2">"what a dumb post"</span> <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>

<p>You can also specify a different attribute to use rather than the ID of the
objects:</p>

<div class="highlight highlight-ruby"><pre><span class="k">class</span> <span class="nc">PostSerializer</span> <span class="o">&lt;</span> <span class="no">ActiveModel</span><span class="o">::</span><span class="no">Serializer</span>
  <span class="n">embed</span> <span class="ss">:ids</span><span class="p">,</span> <span class="kp">include</span><span class="p">:</span> <span class="kp">true</span>

  <span class="n">attributes</span> <span class="ss">:id</span><span class="p">,</span> <span class="ss">:title</span><span class="p">,</span> <span class="ss">:body</span>
  <span class="n">has_many</span> <span class="ss">:comments</span><span class="p">,</span> <span class="n">embed_key</span><span class="p">:</span> <span class="ss">:external_id</span>
<span class="k">end</span>
</pre></div>

<p>This would generate JSON that would look like this:</p>

<div class="highlight highlight-json"><pre><span class="p">{</span>
  <span class="nt">"post"</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">"id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"New post"</span><span class="p">,</span>
    <span class="nt">"body"</span><span class="p">:</span> <span class="s2">"A body!"</span><span class="p">,</span>
    <span class="nt">"comment_ids"</span><span class="p">:</span> <span class="p">[</span> <span class="s2">"COMM001"</span> <span class="p">]</span>
  <span class="p">},</span>
  <span class="nt">"comments"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="nt">"id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nt">"external_id"</span><span class="p">:</span> <span class="s2">"COMM001"</span><span class="p">,</span> <span class="nt">"body"</span><span class="p">:</span> <span class="s2">"what a dumb post"</span> <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>

<p><strong>NOTE</strong>: The <code>embed :ids</code> mechanism is primary useful for clients that process
data in bulk and load it into a local store. For these clients, the ability to
easily see all of the data per type, rather than having to recursively scan the
data looking for information, is extremely useful.</p>

<p>If you are mostly working with the data in simple scenarios and manually making
Ajax requests, you probably just want to use the default embedded behavior.</p>

<h2>
<a name="customizing-scope" class="anchor" href="https://github.com/rails-api/active_model_serializers#customizing-scope"><span class="octicon octicon-link"></span></a>Customizing Scope</h2>

<p>In a serializer, <code>current_user</code> is the current authorization scope which the controller
provides to the serializer when you call <code>render :json</code>. By default, this is
<code>current_user</code>, but can be customized in your controller by calling
<code>serialization_scope</code>:</p>

<div class="highlight highlight-ruby"><pre><span class="k">class</span> <span class="nc">ApplicationController</span> <span class="o">&lt;</span> <span class="no">ActionController</span><span class="o">::</span><span class="no">Base</span>
  <span class="n">serialization_scope</span> <span class="ss">:current_admin</span>
<span class="k">end</span>
</pre></div>

<p>The above example will also change the scope from <code>current_user</code> to
<code>current_admin</code>.</p>

<p>Please note that, until now, <code>serialization_scope</code> doesn't accept a second
object with options for specifying which actions should or should not take a
given scope in consideration.</p>

<p>To be clear, it's not possible, yet, to do something like this:</p>

<div class="highlight highlight-ruby"><pre><span class="k">class</span> <span class="nc">SomeController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="n">serialization_scope</span> <span class="ss">:current_admin</span><span class="p">,</span> <span class="ss">except</span><span class="p">:</span> <span class="o">[</span><span class="ss">:index</span><span class="p">,</span> <span class="ss">:show</span><span class="o">]</span>
<span class="k">end</span>
</pre></div>

<p>So, in order to have a fine grained control of what each action should take in
consideration for its scope, you may use something like this:</p>

<div class="highlight highlight-ruby"><pre><span class="k">class</span> <span class="nc">CitiesController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="n">serialization_scope</span> <span class="kp">nil</span>

  <span class="k">def</span> <span class="nf">index</span>
    <span class="vi">@cities</span> <span class="o">=</span> <span class="no">City</span><span class="o">.</span><span class="n">all</span>

    <span class="n">render</span> <span class="ss">json</span><span class="p">:</span> <span class="vi">@cities</span><span class="p">,</span> <span class="n">each_serializer</span><span class="p">:</span> <span class="no">CitySerializer</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">show</span>
    <span class="vi">@city</span> <span class="o">=</span> <span class="no">City</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>

    <span class="n">render</span> <span class="ss">json</span><span class="p">:</span> <span class="vi">@city</span><span class="p">,</span> <span class="ss">scope</span><span class="p">:</span> <span class="n">current_admin</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>

<p>Assuming that the <code>current_admin</code> method needs to make a query in the database
for the current user, the advantage of this approach is that, by setting
<code>serialization_scope</code> to <code>nil</code>, the <code>index</code> action no longer will need to make
that query, only the <code>show</code> action will.</p>

<h2>
<a name="testing" class="anchor" href="https://github.com/rails-api/active_model_serializers#testing"><span class="octicon octicon-link"></span></a>Testing</h2>

<p>In order to test a Serializer, you can just call <code>.new</code> on it, passing the object to serialize:</p>

<h3>
<a name="minitest" class="anchor" href="https://github.com/rails-api/active_model_serializers#minitest"><span class="octicon octicon-link"></span></a>MiniTest</h3>

<div class="highlight highlight-ruby"><pre><span class="k">class</span> <span class="nc">TestPostSerializer</span> <span class="o">&lt;</span> <span class="no">Minitest</span><span class="o">::</span><span class="no">Test</span>
  <span class="k">def</span> <span class="nf">setup</span>
    <span class="vi">@serializer</span> <span class="o">=</span> <span class="no">PostSerializer</span><span class="o">.</span><span class="n">new</span> <span class="no">Post</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">id</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span> <span class="ss">title</span><span class="p">:</span> <span class="s1">'some title'</span><span class="p">,</span> <span class="ss">body</span><span class="p">:</span> <span class="s1">'some text'</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">test_special_json_for_api</span>
    <span class="n">assert_equal</span> <span class="s1">'{"post":{"id":123,"title":"some title","body":"some text"}}'</span><span class="p">,</span> <span class="vi">@serializer</span><span class="o">.</span><span class="n">to_json</span>
  <span class="k">end</span>
</pre></div>

<h3>
<a name="rspec" class="anchor" href="https://github.com/rails-api/active_model_serializers#rspec"><span class="octicon octicon-link"></span></a>RSpec</h3>

<div class="highlight highlight-ruby"><pre><span class="n">describe</span> <span class="no">PostSerializer</span> <span class="k">do</span>
  <span class="n">it</span> <span class="s2">"creates special JSON for the API"</span> <span class="k">do</span>
    <span class="n">serializer</span> <span class="o">=</span> <span class="no">PostSerializer</span><span class="o">.</span><span class="n">new</span> <span class="no">Post</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">id</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span> <span class="ss">title</span><span class="p">:</span> <span class="s1">'some title'</span><span class="p">,</span> <span class="ss">body</span><span class="p">:</span> <span class="s1">'some text'</span><span class="p">)</span>
    <span class="n">expect</span><span class="p">(</span><span class="n">serializer</span><span class="o">.</span><span class="n">to_json</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">eql</span><span class="p">(</span><span class="s1">'{"post":{"id":123,"title":"some title","body":"some text"}}'</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>

<h2>
<a name="caching" class="anchor" href="https://github.com/rails-api/active_model_serializers#caching"><span class="octicon octicon-link"></span></a>Caching</h2>

<p>NOTE: This functionality was removed from AMS and it's in the TODO list.
We need to re-think and re-design the caching strategy for the next
version of AMS.</p>

<p>To cache a serializer, call <code>cached</code> and define a <code>cache_key</code> method:</p>

<div class="highlight highlight-ruby"><pre><span class="k">class</span> <span class="nc">PostSerializer</span> <span class="o">&lt;</span> <span class="no">ActiveModel</span><span class="o">::</span><span class="no">Serializer</span>
  <span class="n">cached</span>  <span class="c1"># enables caching for this serializer</span>

  <span class="n">attributes</span> <span class="ss">:title</span><span class="p">,</span> <span class="ss">:body</span>

  <span class="k">def</span> <span class="nf">cache_key</span>
    <span class="o">[</span><span class="n">object</span><span class="p">,</span> <span class="n">scope</span><span class="o">]</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>

<p>The caching interface uses <code>Rails.cache</code> under the hood.</p>

<h1>
<a name="applicationserializer" class="anchor" href="https://github.com/rails-api/active_model_serializers#applicationserializer"><span class="octicon octicon-link"></span></a>ApplicationSerializer</h1>

<p>By default, new serializers descend from ActiveModel::Serializer. However, if you wish to share behaviour across your serializers you can create an ApplicationSerializer at <code>app/serializers/application_serializer.rb</code>:</p>

<div class="highlight highlight-ruby"><pre><span class="k">class</span> <span class="nc">ApplicationSerializer</span> <span class="o">&lt;</span> <span class="no">ActiveModel</span><span class="o">::</span><span class="no">Serializer</span>
<span class="k">end</span>
</pre></div>

<p>Any newly generated serializers will automatically descend from ApplicationSerializer.</p>

<pre><code>$ rails g serializer post
</code></pre>

<p>now generates:</p>

<div class="highlight highlight-ruby"><pre><span class="k">class</span> <span class="nc">PostSerializer</span> <span class="o">&lt;</span> <span class="no">ApplicationSerializer</span>
  <span class="n">attributes</span> <span class="ss">:id</span>
<span class="k">end</span>
</pre></div>

<h1>
<a name="design-and-implementation-guidelines" class="anchor" href="https://github.com/rails-api/active_model_serializers#design-and-implementation-guidelines"><span class="octicon octicon-link"></span></a>Design and Implementation Guidelines</h1>

<h2>
<a name="keep-it-simple" class="anchor" href="https://github.com/rails-api/active_model_serializers#keep-it-simple"><span class="octicon octicon-link"></span></a>Keep it Simple</h2>

<p><code>ActiveModel::Serializers</code> is capable of producing complex JSON views/large object
trees, and it may be tempting to design in this way so that your client can make
fewer requests to get data and so that related querying can be optimized.
However, keeping things simple in your serializers and controllers may
significantly reduce complexity and maintenance over the long-term development
of your application. Please consider reducing the complexity of the JSON views
you provide via the serializers as you build out your application, so that
controllers/services can be more easily reused without a lot of complexity
later.</p>

<h2>
<a name="performance" class="anchor" href="https://github.com/rails-api/active_model_serializers#performance"><span class="octicon octicon-link"></span></a>Performance</h2>

<p>As you develop your controllers or other code that utilizes serializers, try to
avoid n+1 queries by ensuring that data loads in an optimal fashion, e.g. if you
are using ActiveRecord, you might want to use query includes or joins as needed
to make the data available that the serializer(s) need.</p></article>
  </div>


        </div>

      </div><!-- /.repo-container -->
      <div class="modal-backdrop"></div>
    </div><!-- /.container -->
  </div><!-- /.site -->


    </div><!-- /.wrapper -->

      <div class="container">
  <div class="site-footer">
    <ul class="site-footer-links right">
      <li><a href="https://status.github.com/">Status</a></li>
      <li><a href="http://developer.github.com/">API</a></li>
      <li><a href="http://training.github.com/">Training</a></li>
      <li><a href="http://shop.github.com/">Shop</a></li>
      <li><a href="https://github.com/blog">Blog</a></li>
      <li><a href="https://github.com/about">About</a></li>

    </ul>

    <a href="https://github.com/">
      <span class="mega-octicon octicon-mark-github" title="GitHub"></span>
    </a>

    <ul class="site-footer-links">
      <li>© 2014 <span title="0.10368s from github-fe117-cp1-prd.iad.github.net">GitHub</span>, Inc.</li>
        <li><a href="https://github.com/site/terms">Terms</a></li>
        <li><a href="https://github.com/site/privacy">Privacy</a></li>
        <li><a href="https://github.com/security">Security</a></li>
        <li><a href="https://github.com/contact">Contact</a></li>
    </ul>
  </div><!-- /.site-footer -->
</div><!-- /.container -->


    <div class="fullscreen-overlay js-fullscreen-overlay" id="fullscreen_overlay">
  <div class="fullscreen-container js-fullscreen-container">
    <div class="textarea-wrap">
      <textarea name="fullscreen-contents" id="fullscreen-contents" class="js-fullscreen-contents" placeholder="" data-suggester="fullscreen_suggester"></textarea>
    </div>
  </div>
  <div class="fullscreen-sidebar">
    <a href="https://github.com/rails-api/active_model_serializers#" class="exit-fullscreen js-exit-fullscreen tooltipped tooltipped-w" aria-label="Exit Zen Mode" original-title="">
      <span class="mega-octicon octicon-screen-normal"></span>
    </a>
    <a href="https://github.com/rails-api/active_model_serializers#" class="theme-switcher js-theme-switcher tooltipped tooltipped-w" aria-label="Switch themes" original-title="">
      <span class="octicon octicon-color-mode"></span>
    </a>
  </div>
</div>



    <div id="ajax-error-message" class="flash flash-error">
      <span class="octicon octicon-alert"></span>
      <a href="https://github.com/rails-api/active_model_serializers#" class="octicon octicon-remove-close close js-ajax-error-dismiss"></a>
      Something went wrong with that request. Please try again.
    </div>

      <div class="hidden" id="js-avatars" data-url="https://avatars.github.com"></div>
  


<div id="global-zeroclipboard-html-bridge" class="global-zeroclipboard-container" style="position: absolute; left: 0px; top: -9999px; width: 15px; height: 15px; z-index: 999999999;" original-title="">      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="https://github.global.ssl.fastly.net/flash/ZeroClipboard.v1.3.2.swf?noCache=1393208483736">         <param name="allowScriptAccess" value="always">         <param name="scale" value="exactfit">         <param name="loop" value="false">         <param name="menu" value="false">         <param name="quality" value="best">         <param name="bgcolor" value="#ffffff">         <param name="wmode" value="transparent">         <param name="flashvars" value="trustedOrigins=github.com%2C%2F%2Fgithub.com%2Chttps%3A%2F%2Fgithub.com%2Cgithub.com%2C%2F%2Fgithub.com%2Chttps%3A%2F%2Fgithub.com">         <embed src="https://github.global.ssl.fastly.net/flash/ZeroClipboard.v1.3.2.swf?noCache=1393208483736" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="100%" height="100%" name="global-zeroclipboard-flash-bridge" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" wmode="transparent" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="trustedOrigins=github.com%2C%2F%2Fgithub.com%2Chttps%3A%2F%2Fgithub.com%2Cgithub.com%2C%2F%2Fgithub.com%2Chttps%3A%2F%2Fgithub.com" scale="exactfit">                </object></div><div id="window-resizer-tooltip"><a href="https://github.com/rails-api/active_model_serializers#" title="Edit settings" style="background-image: url(chrome-extension://kkelicaakdanhinjdeammmilcgefonfh/images/icon_19.png);"></a><span class="tooltipTitle">Window size: </span><span class="tooltipWidth" id="winWidth"></span> x <span class="tooltipHeight" id="winHeight"></span><br><span class="tooltipTitle">Viewport size: </span><span class="tooltipWidth" id="vpWidth"></span> x <span class="tooltipHeight" id="vpHeight"></span></div></body></html>